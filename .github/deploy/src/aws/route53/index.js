"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createARecordForDistribution = exports.getHostedZone = void 0;
const aws_route53_1 = require("aws-cdk-lib/aws-route53");
const aws_route53_targets_1 = require("aws-cdk-lib/aws-route53-targets");
const getHostedZone = (props) => {
    const { scope, domainName } = props;
    return aws_route53_1.HostedZone.fromLookup(scope, 'hostedZone', {
        domainName
    });
};
exports.getHostedZone = getHostedZone;
const createARecordForDistribution = (props) => {
    const { scope, hostedZone, subDomainName, distribution } = props;
    return new aws_route53_1.ARecord(scope, 'aRecord', {
        target: aws_route53_1.RecordTarget.fromAlias(new aws_route53_targets_1.CloudFrontTarget(distribution)),
        zone: hostedZone,
        recordName: subDomainName
    });
};
exports.createARecordForDistribution = createARecordForDistribution;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx5REFBdUY7QUFFdkYseUVBQWlFO0FBTzFELE1BQU0sYUFBYSxHQUFHLENBQUMsS0FBeUIsRUFBZSxFQUFFO0lBQ3RFLE1BQU0sRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLEdBQUcsS0FBSyxDQUFBO0lBRW5DLE9BQU8sd0JBQVUsQ0FBQyxVQUFVLENBQUMsS0FBSyxFQUFFLFlBQVksRUFBRTtRQUNoRCxVQUFVO0tBQ1gsQ0FBQyxDQUFBO0FBQ0osQ0FBQyxDQUFBO0FBTlksUUFBQSxhQUFhLGlCQU16QjtBQVNNLE1BQU0sNEJBQTRCLEdBQUcsQ0FBQyxLQUF3QyxFQUFXLEVBQUU7SUFDaEcsTUFBTSxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLFlBQVksRUFBRSxHQUFHLEtBQUssQ0FBQTtJQUVoRSxPQUFPLElBQUkscUJBQU8sQ0FBQyxLQUFLLEVBQUUsU0FBUyxFQUFFO1FBQ25DLE1BQU0sRUFBRSwwQkFBWSxDQUFDLFNBQVMsQ0FBQyxJQUFJLHNDQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2xFLElBQUksRUFBRSxVQUFVO1FBQ2hCLFVBQVUsRUFBRSxhQUFhO0tBQzFCLENBQUMsQ0FBQTtBQUNKLENBQUMsQ0FBQTtBQVJZLFFBQUEsNEJBQTRCLGdDQVF4QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7U3RhY2t9IGZyb20gXCJhd3MtY2RrLWxpYlwiO1xyaW1wb3J0IHtBUmVjb3JkLCBIb3N0ZWRab25lLCBJSG9zdGVkWm9uZSwgUmVjb3JkVGFyZ2V0fSBmcm9tIFwiYXdzLWNkay1saWIvYXdzLXJvdXRlNTNcIjtccmltcG9ydCB7SURpc3RyaWJ1dGlvbn0gZnJvbSBcImF3cy1jZGstbGliL2F3cy1jbG91ZGZyb250XCI7XHJpbXBvcnQge0Nsb3VkRnJvbnRUYXJnZXR9IGZyb20gXCJhd3MtY2RrLWxpYi9hd3Mtcm91dGU1My10YXJnZXRzXCI7XHJccmV4cG9ydCBpbnRlcmZhY2UgR2V0SG9zdGVkWm9uZVByb3BzIHtcciAgc2NvcGU6IFN0YWNrO1xyICBkb21haW5OYW1lOiBzdHJpbmc7XHJ9XHJccmV4cG9ydCBjb25zdCBnZXRIb3N0ZWRab25lID0gKHByb3BzOiBHZXRIb3N0ZWRab25lUHJvcHMpOiBJSG9zdGVkWm9uZSA9PiB7XHIgIGNvbnN0IHsgc2NvcGUsIGRvbWFpbk5hbWUgfSA9IHByb3BzXHJcciAgcmV0dXJuIEhvc3RlZFpvbmUuZnJvbUxvb2t1cChzY29wZSwgJ2hvc3RlZFpvbmUnLCB7XHIgICAgZG9tYWluTmFtZVxyICB9KVxyfVxyXHJleHBvcnQgaW50ZXJmYWNlIENyZWF0ZUFSZWNvcmRGb3JEaXN0cmlidXRpb25Qcm9wcyB7XHIgIHNjb3BlOiBTdGFjaztcciAgaG9zdGVkWm9uZTogSUhvc3RlZFpvbmU7XHIgIHN1YkRvbWFpbk5hbWU6IHN0cmluZztcciAgZGlzdHJpYnV0aW9uOiBJRGlzdHJpYnV0aW9uO1xyfVxyXHJleHBvcnQgY29uc3QgY3JlYXRlQVJlY29yZEZvckRpc3RyaWJ1dGlvbiA9IChwcm9wczogQ3JlYXRlQVJlY29yZEZvckRpc3RyaWJ1dGlvblByb3BzKTogQVJlY29yZCA9PiB7XHIgIGNvbnN0IHsgc2NvcGUsIGhvc3RlZFpvbmUsIHN1YkRvbWFpbk5hbWUsIGRpc3RyaWJ1dGlvbiB9ID0gcHJvcHNcclxyICByZXR1cm4gbmV3IEFSZWNvcmQoc2NvcGUsICdhUmVjb3JkJywge1xyICAgIHRhcmdldDogUmVjb3JkVGFyZ2V0LmZyb21BbGlhcyhuZXcgQ2xvdWRGcm9udFRhcmdldChkaXN0cmlidXRpb24pKSxcciAgICB6b25lOiBob3N0ZWRab25lLFxyICAgIHJlY29yZE5hbWU6IHN1YkRvbWFpbk5hbWVcciAgfSlccn1cciJdfQ==